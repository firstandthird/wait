/*!
 * wait - Javascript plugin to show an iOS style loading graphic.
 * v0.1.0
 * https://github.com/firstandthird/wait
 * copyright First + Third 2013
 * MIT License
*/
!function(a){function b(){}"function"!=typeof document.getElementsByClassName&&(HTMLElement.prototype.getElementsByClassName=function(a){return this.querySelectorAll("."+a)});var c=a.wait;b.prototype.show=function(a){return this._setOptions(a),this.element=this._fetchContainer(),this.preventClicks&&this._addClass(this.element,"wait-blur"),this._createOverlay(),this._createModal(),this._bindEvents(),this},b.prototype.hide=function(){return this._unbindEvents(),this.preventClicks&&this._removeClass(this.element,"wait-blur"),this._removeModal(),this._removeOverlay(),this},b.prototype.setText=function(a){return this.paragraph.innerHTML=a,this},b.prototype.noConflict=function(){return a.wait===wait&&(a.wait=c),new b},b.prototype._addClass=function(a,b){a.className=a.className+" "+b},b.prototype._removeClass=function(a,b){var c=a.className.split(" "),d=c.indexOf(b);-1!==d&&(c.splice(d,1),a.className=c.join(" "))},b.prototype._setOptions=function(a){a=a||{},this.title=a.title||"Loading...",this.container=a.container||"body",this.preventClicks=a.preventClicks||!0,this.theme=a.theme||"dark"},b.prototype._bindEvents=function(){this.preventClicks&&this.overlay.addEventListener("click",this._preventClick,!1)},b.prototype._unbindEvents=function(){this.preventClicks&&this.overlay.removeEventListener("click",this._preventClick,!1)},b.prototype._preventClick=function(){return!1},b.prototype._fetchContainer=function(){var b=this._determineFetchingFunction(this.container),c="getElementsByTagName"===b?this.container:this.container.substring(1),d=a.document[b](c);return d instanceof NodeList&&(d=d[0]),d},b.prototype._createOverlay=function(){this.overlay=a.document.createElement("div"),this.overlay.className="wait-overlay wait-"+this.theme,a.document.body.appendChild(this.overlay),this._positionOverlay()},b.prototype._removeOverlay=function(){a.document.body.removeChild(this.overlay)},b.prototype._positionOverlay=function(){var a="0px",b="0px",c="100%",d="100%",e="fixed";if("body"!==this.container){var f=this.element.getBoundingClientRect();a=f.left+"px",b=f.top+"px",c=f.width+"px",d=f.height+"px",e="absolute"}this.overlay.style.width=c,this.overlay.style.height=d,this.overlay.style.left=a,this.overlay.style.top=b,this.overlay.style.position=e},b.prototype._createModal=function(){this.modal=a.document.createElement("div"),this.modal.className="wait wait-"+this.theme,this.paragraph=a.document.createElement("p");var b=a.document.createTextNode(this.title);this.paragraph.appendChild(b),this.modal.appendChild(this.paragraph),a.document.body.appendChild(this.modal),this._positionModal()},b.prototype._positionModal=function(){var a,b,c="fixed";"body"!==this.container&&(c="absolute");var d=this.element.getBoundingClientRect();a=Math.round((d.width-this.modal.offsetWidth)/2+d.left),b=Math.round((d.height-this.modal.offsetHeight)/2+d.top),this.modal.style.left=a+"px",this.modal.style.top=b+"px",this.modal.style.position=c},b.prototype._removeModal=function(){a.document.body.removeChild(this.modal)},b.prototype._determineFetchingFunction=function(a){var b="";switch(a.charAt(0)){case"#":b="getElementById";break;case".":b="getElementsByClassName";break;default:b="getElementsByTagName"}return b},a.wait=new b}(window);